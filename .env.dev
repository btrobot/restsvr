# FastAPI 微服务项目 - 开发环境配置
# =================================
# 开发环境特点：
# - 使用 SQLite（无需数据库安装）
# - 详细的 DEBUG 日志
# - 开启热重载和文档
# - 宽松的 CORS 配置

# ====================
# 项目基础配置
# ====================
PROJECT_NAME=fastapi-microservices-dev
VERSION=1.0.0-dev
ENVIRONMENT=development

# ====================
# 数据库配置 - 开发环境使用 SQLite
# ====================
# SQLite 数据库文件路径（相对于项目根目录）
DATABASE_URL=sqlite:///./test.db

# PostgreSQL 配置（测试 PostgreSQL 功能时可用）
POSTGRES_DB=microservices_dev
POSTGRES_USER=postgres
POSTGRES_PASSWORD=dev_password
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# MySQL 配置
MYSQL_DATABASE=microservices_dev
MYSQL_USER=dev_user
MYSQL_PASSWORD=dev_password
MYSQL_ROOT_PASSWORD=dev_root
MYSQL_HOST=mysql
MYSQL_PORT=3306

# ====================
# Redis 配置
# ====================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ====================
# 服务配置
# ====================
NGINX_HOST=0.0.0.0
NGINX_PORT=80

USER_SERVICE_HOST=user-service
USER_SERVICE_PORT=8000
ORDER_SERVICE_HOST=order-service
ORDER_SERVICE_PORT=8000
PRODUCT_SERVICE_HOST=product-service
PRODUCT_SERVICE_PORT=8000

# ====================
# 日志配置 - 开发环境开启 DEBUG
# ====================
LOG_LEVEL=DEBUG
LOG_FORMAT=plain  # 纯文本格式，更易读

# ====================
# JWT 配置
# ====================
JWT_SECRET_KEY=dev-secret-key
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# ====================
# 安全与限流
# ====================
# 开发环境放宽限流
RATE_LIMIT_PER_MINUTE=1000

# CORS 配置 - 开发环境允许所有来源
ALLOWED_ORIGINS=*
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
ALLOWED_HEADERS=*

# ====================
# 监控与告警
# ====================
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
ENABLE_METRICS=true
METRICS_PORT=9090

# ====================
# 第三方服务
# ====================
SENTRY_DSN=
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=

# ====================
# 服务发现
# ====================
SERVICE_DISCOVERY_ENABLED=false
CONSUL_HOST=consul
CONSUL_PORT=8500

# ====================
# 消息队列
# ====================
CELERY_BROKER_URL=redis://redis:6379/3
CELERY_RESULT_BACKEND=redis://redis:6379/4

# ====================
# 文件上传
# ====================
MAX_UPLOAD_SIZE=10485760
UPLOAD_DIR=/app/uploads

# ====================
# API 文档 - 开发环境开启
# ====================
DOCS_URL=/docs
REDOC_URL=/redoc
OPENAPI_URL=/openapi.json
ENABLE_DOCS=true
